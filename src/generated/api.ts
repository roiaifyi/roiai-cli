/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 * 
 * To regenerate: npm run generate:api
 */

export interface paths {
    "/data/upsync": {
        parameters: {
            query?: never;
            header?: never;
            path?: never;
            cookie?: never;
        };
        get?: never;
        put?: never;
        /**
         * Sync usage data from CLI
         * @description Uploads AI usage data from the CLI client. This endpoint processes messages
         *     and their associated entities (machines, projects, sessions), updating
         *     aggregate statistics and deduplicating existing messages.
         *
         */
        post: operations["upsyncData"];
        delete?: never;
        options?: never;
        head?: never;
        patch?: never;
        trace?: never;
    };
}
export type webhooks = Record<string, never>;
export interface components {
    schemas: {
        Error: {
            /**
             * @description Error code
             * @example VALIDATION_ERROR
             */
            code: string;
            /**
             * @description Human-readable error message
             * @example Invalid request data
             */
            message: string;
            /** @description Additional error details */
            details?: {
                [key: string]: unknown;
            };
        };
        ValidationError: {
            /** @enum {string} */
            code: "VALIDATION_ERROR";
            /** @example Validation failed */
            message: string;
            /** @example {
             *       "messages": "Required",
             *       "metadata": "Required"
             *     } */
            errors: {
                [key: string]: string;
            };
        };
        /**
         * @description Error codes for sync message processing failures
         * @enum {string}
         */
        SyncErrorCode: "SYNC_001" | "SYNC_002" | "SYNC_003" | "SYNC_004" | "SYNC_005" | "SYNC_006";
        SyncFailureDetail: {
            /**
             * @description ID of the failed message
             * @example chatcmpl-125ghi
             */
            messageId: string;
            /**
             * @description Human-readable error message
             * @example Session not found
             */
            error: string;
            code: components["schemas"]["SyncErrorCode"];
        };
        UserEntity: {
            /**
             * @description User ID
             * @example user_123
             */
            id: string;
            /**
             * Format: email
             * @description User email address
             * @example user@example.com
             */
            email?: string;
            /**
             * @description Username
             * @example johndoe
             */
            username?: string;
        };
        MachineEntity: {
            /**
             * @description Machine ID
             * @example machine_123
             */
            id: string;
            /**
             * @description User ID who owns this machine
             * @example user_123
             */
            userId: string;
            /**
             * @description Machine name
             * @example John's MacBook Pro
             */
            machineName: string;
            /**
             * @description Local machine identifier
             * @example local_machine_456
             */
            localMachineId: string;
        };
        ProjectEntity: {
            /**
             * @description Project ID
             * @example proj_abc123
             */
            id: string;
            /**
             * @description Project name
             * @example my-ai-app
             */
            projectName: string;
            /**
             * @description User ID who owns this project
             * @example user_123
             */
            userId: string;
            /**
             * @description Machine ID where project is located
             * @example machine_123
             */
            clientMachineId: string;
        };
        SessionEntity: {
            /**
             * @description Session ID
             * @example sess_def456
             */
            id: string;
            /**
             * @description Project ID this session belongs to
             * @example proj_abc123
             */
            projectId: string;
            /**
             * @description User ID who owns this session
             * @example user_123
             */
            userId: string;
            /**
             * @description Machine ID where session occurred
             * @example machine_123
             */
            clientMachineId: string;
        };
        MessageEntity: {
            /**
             * @description Unique message ID
             * @example msg_xyz789
             */
            id: string;
            /**
             * @description External message ID from AI service
             * @example chatcmpl-123abc
             */
            messageId: string;
            /**
             * @description Session ID this message belongs to (nullable for partial processing)
             * @example sess_def456
             */
            sessionId?: string | null;
            /**
             * @description Project ID this message belongs to (nullable for partial processing)
             * @example proj_abc123
             */
            projectId?: string | null;
            /**
             * @description User ID who owns this message
             * @example user_123
             */
            userId: string;
            /**
             * @description Message role
             * @example assistant
             * @enum {string}
             */
            role: "user" | "assistant" | "system";
            /**
             * @description AI model used
             * @example gpt-4
             */
            model?: string;
            /**
             * @description Number of input tokens
             * @example 150
             */
            inputTokens: number;
            /**
             * @description Number of output tokens
             * @example 50
             */
            outputTokens: number;
            /**
             * @description Number of cache creation tokens
             * @example 0
             */
            cacheCreationTokens: number;
            /**
             * @description Number of cache read tokens
             * @example 0
             */
            cacheReadTokens: number;
            /**
             * Format: float
             * @description Cost of the message
             * @example 0.0075
             */
            messageCost: number;
            /**
             * Format: date-time
             * @description Message timestamp
             * @example 2024-01-15T10:30:00Z
             */
            timestamp?: string;
            /**
             * @description Who wrote this message
             * @example assistant
             * @enum {string}
             */
            writer: "human" | "agent" | "assistant";
            /**
             * @description Machine ID where this message was generated
             * @example machine_123
             */
            machineId: string;
            /**
             * Format: float
             * @description Price per input token for this model
             * @example 0.00003
             */
            pricePerInputToken: number;
            /**
             * Format: float
             * @description Price per output token for this model
             * @example 0.00006
             */
            pricePerOutputToken: number;
            /**
             * Format: float
             * @description Price per cache write token for this model
             * @example 0.00015
             */
            pricePerCacheWriteToken: number;
            /**
             * Format: float
             * @description Price per cache read token for this model
             * @example 0.000015
             */
            pricePerCacheReadToken: number;
            /**
             * @description Cache duration in minutes for this model
             * @example 60
             */
            cacheDurationMinutes: number;
        };
        PushRequest: {
            /** @description Array of messages to sync */
            messages: components["schemas"]["MessageEntity"][];
            entities: {
                /** @description Map of machine IDs to machine entities */
                machines: {
                    [key: string]: components["schemas"]["MachineEntity"];
                };
                /** @description Map of project IDs to project entities */
                projects: {
                    [key: string]: components["schemas"]["ProjectEntity"];
                };
                /** @description Map of session IDs to session entities */
                sessions: {
                    [key: string]: components["schemas"]["SessionEntity"];
                };
            };
        };
        PushResponse: {
            /**
             * @description Unique sync operation ID (UUID v4)
             * @example 550e8400-e29b-41d4-a716-446655440000
             */
            syncId: string;
            results: {
                persisted: {
                    /**
                     * @description Number of new messages persisted
                     * @example 1
                     */
                    count: number;
                    /**
                     * @description IDs of persisted messages
                     * @example [
                     *       "chatcmpl-123abc"
                     *     ]
                     */
                    messageIds: string[];
                };
                deduplicated: {
                    /**
                     * @description Number of duplicate messages skipped
                     * @example 0
                     */
                    count: number;
                    /**
                     * @description IDs of deduplicated messages
                     * @example []
                     */
                    messageIds: string[];
                };
                failed: {
                    /**
                     * @description Number of messages that failed to process
                     * @example 0
                     */
                    count: number;
                    /** @description Details of failed messages */
                    details: components["schemas"]["SyncFailureDetail"][];
                };
            };
            summary: {
                /**
                 * @description Total messages in the batch
                 * @example 1
                 */
                totalMessages: number;
                /**
                 * @description Number of messages successfully processed
                 * @example 1
                 */
                messagesSucceeded: number;
                /**
                 * @description Number of messages that failed
                 * @example 0
                 */
                messagesFailed: number;
                /**
                 * @description Processing time in milliseconds
                 * @example 123
                 */
                processingTimeMs: number;
            };
        };
    };
    responses: never;
    parameters: never;
    requestBodies: never;
    headers: never;
    pathItems: never;
}
export type $defs = Record<string, never>;
export interface operations {
    upsyncData: {
        parameters: {
            query?: never;
            header?: never;
            path?: never;
            cookie?: never;
        };
        requestBody: {
            content: {
                "application/json": components["schemas"]["PushRequest"];
            };
        };
        responses: {
            /** @description Data successfully synced */
            200: {
                headers: {
                    [name: string]: unknown;
                };
                content: {
                    "application/json": components["schemas"]["PushResponse"];
                };
            };
            /** @description Invalid request data */
            400: {
                headers: {
                    [name: string]: unknown;
                };
                content: {
                    /** @example {
                     *       "code": "VALIDATION_ERROR",
                     *       "message": "Validation failed",
                     *       "errors": {
                     *         "messages": "Required",
                     *         "entities": "Required"
                     *       }
                     *     } */
                    "application/json": components["schemas"]["ValidationError"];
                };
            };
            /** @description Unauthorized - Invalid or missing API key */
            401: {
                headers: {
                    [name: string]: unknown;
                };
                content: {
                    /** @example {
                     *       "code": "UNAUTHORIZED",
                     *       "message": "Invalid API key"
                     *     } */
                    "application/json": components["schemas"]["Error"];
                };
            };
            /** @description Forbidden - Cannot update data for other machines */
            403: {
                headers: {
                    [name: string]: unknown;
                };
                content: {
                    /** @example {
                     *       "code": "FORBIDDEN",
                     *       "message": "Cannot update data for other machines"
                     *     } */
                    "application/json": components["schemas"]["Error"];
                };
            };
            /** @description Internal server error */
            500: {
                headers: {
                    [name: string]: unknown;
                };
                content: {
                    /** @example {
                     *       "syncId": "550e8400-e29b-41d4-a716-446655440000",
                     *       "results": {
                     *         "persisted": {
                     *           "count": 0,
                     *           "messageIds": []
                     *         },
                     *         "deduplicated": {
                     *           "count": 0,
                     *           "messageIds": []
                     *         },
                     *         "failed": {
                     *           "count": 1,
                     *           "details": [
                     *             {
                     *               "messageId": "chatcmpl-123abc",
                     *               "error": "Database connection failed",
                     *               "code": "SYNC_002"
                     *             }
                     *           ]
                     *         }
                     *       },
                     *       "summary": {
                     *         "totalMessages": 1,
                     *         "messagesSucceeded": 0,
                     *         "messagesFailed": 1,
                     *         "processingTimeMs": 45
                     *       }
                     *     } */
                    "application/json": components["schemas"]["PushResponse"];
                };
            };
        };
    };
}
